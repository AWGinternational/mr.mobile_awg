# ğŸ“Š PURCHASE & INVENTORY MANAGEMENT - VISUAL ARCHITECTURE

## ğŸ¯ System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MOBILE SHOP MANAGEMENT SYSTEM                     â”‚
â”‚                    Purchase & Inventory Module                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ Module Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚             â”‚      â”‚              â”‚      â”‚             â”‚       â”‚
â”‚  â”‚  SUPPLIER   â”‚â”€â”€â”€â”€â”€â–¶â”‚   PURCHASE   â”‚â”€â”€â”€â”€â”€â–¶â”‚  INVENTORY  â”‚       â”‚
â”‚  â”‚  MANAGEMENT â”‚      â”‚  MANAGEMENT  â”‚      â”‚  MANAGEMENT â”‚       â”‚
â”‚  â”‚             â”‚      â”‚              â”‚      â”‚             â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚        â”‚                     â”‚                      â”‚               â”‚
â”‚        â”‚                     â”‚                      â”‚               â”‚
â”‚        â–¼                     â–¼                      â–¼               â”‚
â”‚  Vendor Info          Order Tracking        Stock Levels          â”‚
â”‚  Credit Terms         Cost Recording        IMEI Tracking         â”‚
â”‚  Contact Details      Payment Status        Locations             â”‚
â”‚  Performance          Delivery Status       Available for Sale    â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Complete Workflow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        PROCUREMENT WORKFLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 1: SUPPLIER SELECTION
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Select Supplier    â”‚  â† From Supplier Database
â”‚   â€¢ Name             â”‚
â”‚   â€¢ Contact          â”‚
â”‚   â€¢ Credit Terms     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
STEP 2: CREATE PURCHASE ORDER
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Purchase Order     â”‚
â”‚   â€¢ Invoice #        â”‚
â”‚   â€¢ Products List    â”‚
â”‚   â€¢ Quantities       â”‚
â”‚   â€¢ Unit Costs       â”‚
â”‚   â€¢ Total Amount     â”‚
â”‚   Status: DRAFT      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
STEP 3: CONFIRM ORDER
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Send to Supplier   â”‚
â”‚   Status: ORDERED    â”‚
â”‚   â€¢ Email/Print PO   â”‚
â”‚   â€¢ Set Due Date     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
STEP 4: RECEIVE STOCK
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Goods Delivered     â”‚
â”‚  â€¢ Check Quantities  â”‚
â”‚  â€¢ Verify Quality    â”‚
â”‚  â€¢ Scan IMEI/Serial  â”‚
â”‚  Status: PARTIAL/    â”‚
â”‚          RECEIVED    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
STEP 5: AUTO-CREATE INVENTORY
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API: Receive Stock  â”‚
â”‚  â†“                   â”‚
â”‚  Creates:            â”‚
â”‚  â€¢ InventoryItem 1   â”‚
â”‚  â€¢ InventoryItem 2   â”‚
â”‚  â€¢ InventoryItem 3   â”‚
â”‚  â€¢ ...               â”‚
â”‚  Status: IN_STOCK    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
STEP 6: PAYMENT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Record Payment      â”‚
â”‚  â€¢ Payment Method    â”‚
â”‚  â€¢ Amount Paid       â”‚
â”‚  â€¢ Update Due        â”‚
â”‚  Status: COMPLETED   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
STEP 7: READY FOR SALE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Inventory Available â”‚
â”‚  â€¢ POS System        â”‚
â”‚  â€¢ Walk-in Customers â”‚
â”‚  â€¢ Online Orders     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ Database Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATABASE SCHEMA                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SHOP      â”‚
â”‚  (Tenant)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ (1)
       â”‚
       â”‚ (Many)
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                    â”‚                    â”‚                â”‚
       â–¼                    â–¼                    â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SUPPLIER â”‚        â”‚ PURCHASE â”‚        â”‚ PRODUCT  â”‚    â”‚INVENTORY â”‚
â”‚          â”‚        â”‚          â”‚        â”‚          â”‚    â”‚   ITEM   â”‚
â”‚ â€¢ Name   â”‚â—€â”€â”€(1)â”€ â”‚ â€¢ Invoiceâ”‚ â”€(M)â”€â–¶ â”‚ â€¢ Name   â”‚â—€â”€â” â”‚          â”‚
â”‚ â€¢ Phone  â”‚        â”‚ â€¢ Status â”‚        â”‚ â€¢ Model  â”‚  â”‚ â”‚ â€¢ IMEI   â”‚
â”‚ â€¢ Credit â”‚        â”‚ â€¢ Total  â”‚        â”‚ â€¢ SKU    â”‚  â””â”€â”‚ â€¢ Serial â”‚
â”‚ â€¢ GST    â”‚        â”‚ â€¢ Paid   â”‚        â”‚ â€¢ Cost   â”‚    â”‚ â€¢ Status â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â€¢ Due    â”‚        â”‚ â€¢ Price  â”‚    â”‚ â€¢ Batch  â”‚
                    â”‚ â€¢ Date   â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                              â–²
                         â”‚                                    â”‚
                         â”‚ (1)                                â”‚
                         â”‚                              (Created by)
                         â”‚ (Many)                             â”‚
                         â–¼                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
                    â”‚ PURCHASE_ITEMâ”‚                          â”‚
                    â”‚              â”‚                          â”‚
                    â”‚ â€¢ Product    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ â€¢ Quantity   â”‚     (Receive Stock API)
                    â”‚ â€¢ ReceivedQtyâ”‚
                    â”‚ â€¢ UnitCost   â”‚
                    â”‚ â€¢ IMEI[]     â”‚
                    â”‚ â€¢ Serial[]   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ (1)
                         â”‚
                         â”‚ (Many)
                         â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚PURCHASE_     â”‚
                    â”‚  PAYMENT     â”‚
                    â”‚              â”‚
                    â”‚ â€¢ Amount     â”‚
                    â”‚ â€¢ Method     â”‚
                    â”‚ â€¢ Date       â”‚
                    â”‚ â€¢ Reference  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Status Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PURCHASE STATUS WORKFLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              START
                                â”‚
                                â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚    DRAFT    â”‚ â† Work in progress
                         â”‚  (Editable) â”‚   Can modify details
                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                         [Confirm Order]
                                â”‚
                                â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   ORDERED   â”‚ â† Sent to supplier
                         â”‚  (Pending)  â”‚   Waiting for delivery
                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                        [Receive Stock]
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   PARTIAL    â”‚        â”‚  RECEIVED   â”‚
            â”‚ (Incomplete) â”‚        â”‚ (Complete)  â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                       â”‚
           [More items arrive]    [Record Payment]
                   â”‚                       â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  COMPLETED  â”‚ â† Fully paid
                        â”‚   (Closed)  â”‚   & received
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                    CANCELLATION PATH:
                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            ANY STATUS â”€â”€â”€[Cancel]â”€â”€â”€â–¶ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                       â”‚  CANCELLED  â”‚
                                       â”‚  (Voided)   â”‚
                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Permission Matrix Visual

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ACCESS CONTROL MATRIX                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OPERATIONS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   OPERATION      â”‚ SUPER ADMIN  â”‚ SHOP OWNER   â”‚ SHOP WORKER  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ View Purchases   â”‚      âœ…      â”‚      âœ…      â”‚      âœ…      â”‚
â”‚ Create Purchase  â”‚      âœ…      â”‚      âœ…      â”‚      âŒ      â”‚
â”‚ Edit Purchase    â”‚      âœ…      â”‚      âœ…      â”‚      âŒ      â”‚
â”‚ Delete Purchase  â”‚      âœ…      â”‚      âœ…      â”‚      âŒ      â”‚
â”‚ Receive Stock    â”‚      âœ…      â”‚      âœ…      â”‚      âŒ      â”‚
â”‚ Record Payment   â”‚      âœ…      â”‚      âœ…      â”‚      âŒ      â”‚
â”‚ View Reports     â”‚      âœ…      â”‚      âœ…      â”‚      âœ…      â”‚
â”‚ Export Data      â”‚      âœ…      â”‚      âœ…      â”‚      âŒ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DATA ACCESS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DATA SCOPE     â”‚ SUPER ADMIN  â”‚ SHOP OWNER   â”‚ SHOP WORKER  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ All Shops        â”‚      âœ…      â”‚      âŒ      â”‚      âŒ      â”‚
â”‚ Own Shop Only    â”‚      âœ…      â”‚      âœ…      â”‚      âœ…      â”‚
â”‚ Cost Prices      â”‚      âœ…      â”‚      âœ…      â”‚      âŒ      â”‚
â”‚ Profit Margins   â”‚      âœ…      â”‚      âœ…      â”‚      âŒ      â”‚
â”‚ Payment Terms    â”‚      âœ…      â”‚      âœ…      â”‚      âŒ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ UI Components Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND STRUCTURE                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

/purchases
    â”‚
    â”œâ”€ MAIN PAGE (List View)
    â”‚  â”œâ”€ Statistics Cards
    â”‚  â”‚  â”œâ”€ Total Purchases
    â”‚  â”‚  â”œâ”€ Amount Paid
    â”‚  â”‚  â”œâ”€ Amount Due
    â”‚  â”‚  â””â”€ Status Overview
    â”‚  â”‚
    â”‚  â”œâ”€ Filters Section
    â”‚  â”‚  â”œâ”€ Search Bar (Invoice #)
    â”‚  â”‚  â””â”€ Status Dropdown
    â”‚  â”‚
    â”‚  â””â”€ Purchase List
    â”‚     â””â”€ Purchase Card
    â”‚        â”œâ”€ Invoice # + Status Badge
    â”‚        â”œâ”€ Supplier Info
    â”‚        â”œâ”€ Dates (Purchase/Received)
    â”‚        â”œâ”€ Payment Progress Bar
    â”‚        â”œâ”€ Amount Details
    â”‚        â””â”€ View Button
    â”‚
    â”œâ”€ /new (Create New Purchase)
    â”‚  â”œâ”€ Purchase Information
    â”‚  â”‚  â”œâ”€ Invoice Number Input
    â”‚  â”‚  â”œâ”€ Supplier Selector
    â”‚  â”‚  â”œâ”€ Payment Details
    â”‚  â”‚  â””â”€ Notes Textarea
    â”‚  â”‚
    â”‚  â”œâ”€ Purchase Items Section
    â”‚  â”‚  â””â”€ Item Row
    â”‚  â”‚     â”œâ”€ Product Selector
    â”‚  â”‚     â”œâ”€ Quantity Input
    â”‚  â”‚     â”œâ”€ Unit Cost Input
    â”‚  â”‚     â”œâ”€ Total Display
    â”‚  â”‚     â””â”€ Remove Button
    â”‚  â”‚
    â”‚  â””â”€ Summary & Actions
    â”‚     â”œâ”€ Total Calculation
    â”‚     â”œâ”€ Save as Draft Button
    â”‚     â””â”€ Create Order Button
    â”‚
    â””â”€ /[id] (Details - TO BE BUILT)
       â”œâ”€ Purchase Header
       â”œâ”€ Items List
       â”œâ”€ Payment History
       â”œâ”€ Inventory Items Created
       â””â”€ Actions (Edit/Delete/Receive)
```

---

## ğŸ“ˆ Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATA FLOW                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

USER CREATES PURCHASE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Frontend Form
    â”‚
    â”œâ”€ Collects: Invoice #, Supplier, Items[], Amounts
    â”‚
    â–¼
POST /api/purchases
    â”‚
    â”œâ”€ Validates data
    â”œâ”€ Checks authorization
    â”œâ”€ Verifies shop access
    â”‚
    â–¼
Prisma ORM
    â”‚
    â”œâ”€ Creates Purchase record
    â”œâ”€ Creates PurchaseItem records
    â”œâ”€ Sets status = DRAFT/ORDERED
    â”‚
    â–¼
PostgreSQL Database
    â”‚
    â”œâ”€ Stores purchase data
    â”œâ”€ Links to supplier
    â”œâ”€ Maintains shop isolation
    â”‚
    â–¼
Response to Frontend
    â”‚
    â””â”€ Success â†’ Redirect to list
       Error â†’ Show error message


RECEIVE STOCK WORKFLOW:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
API Call
    â”‚
    â”œâ”€ Endpoint: POST /api/purchases/[id]/receive
    â”œâ”€ Body: { items: [{ id, qty, imei[], serial[] }] }
    â”‚
    â–¼
Backend Processing
    â”‚
    â”œâ”€ Find Purchase & Items
    â”œâ”€ Validate quantities
    â”œâ”€ Loop through items
    â”‚
    â–¼
For Each Item:
    â”‚
    â”œâ”€ Update receivedQty
    â”œâ”€ Store IMEI/Serial numbers
    â”œâ”€ CREATE InventoryItem records
    â”‚  â”œâ”€ productId from PurchaseItem
    â”‚  â”œâ”€ IMEI from received data
    â”‚  â”œâ”€ costPrice from PurchaseItem
    â”‚  â”œâ”€ supplierId from Purchase
    â”‚  â”œâ”€ batchNumber = invoiceNumber
    â”‚  â””â”€ status = IN_STOCK
    â”‚
    â–¼
Update Purchase Status
    â”‚
    â”œâ”€ All received? â†’ RECEIVED
    â”œâ”€ Some received? â†’ PARTIAL
    â””â”€ Store receivedDate
    â”‚
    â–¼
Return Response
    â”‚
    â””â”€ inventoryItems[] created
       purchaseStatus updated
```

---

## ğŸ’° Financial Tracking

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PAYMENT TRACKING FLOW                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PURCHASE CREATED:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total: 100,000   â”‚
â”‚ Paid: 0          â”‚
â”‚ Due: 100,000     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
PARTIAL PAYMENT:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total: 100,000   â”‚
â”‚ Paid: 30,000     â”‚ â† Record payment
â”‚ Due: 70,000      â”‚   Via API
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
MORE PAYMENTS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total: 100,000   â”‚
â”‚ Paid: 80,000     â”‚ â† Multiple payments
â”‚ Due: 20,000      â”‚   tracked
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
FULLY PAID:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total: 100,000   â”‚
â”‚ Paid: 100,000    â”‚ â† Status: COMPLETED
â”‚ Due: 0           â”‚   Automatically
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


PAYMENT HISTORY:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Payment #1                     â”‚
â”‚ Date: 2024-10-01              â”‚
â”‚ Amount: PKR 30,000            â”‚
â”‚ Method: Bank Transfer         â”‚
â”‚ Reference: TXN-001            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Payment #2                     â”‚
â”‚ Date: 2024-10-15              â”‚
â”‚ Amount: PKR 50,000            â”‚
â”‚ Method: Cash                  â”‚
â”‚ Reference: -                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Payment #3                     â”‚
â”‚ Date: 2024-10-30              â”‚
â”‚ Amount: PKR 20,000            â”‚
â”‚ Method: EasyPaisa             â”‚
â”‚ Reference: EP-12345           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Integration Points

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SYSTEM INTEGRATIONS                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PURCHASE MANAGEMENT
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                             â”‚
        â–¼                                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SUPPLIER    â”‚                            â”‚   INVENTORY   â”‚
â”‚  MANAGEMENT   â”‚                            â”‚  MANAGEMENT   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                             â”‚
        â”‚ â€¢ Vendor List                               â”‚ â€¢ Stock Levels
        â”‚ â€¢ Credit Terms                              â”‚ â€¢ IMEI Tracking
        â”‚ â€¢ Performance                               â”‚ â€¢ Locations
        â”‚                                             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚   POS SYSTEM  â”‚
                   â”‚               â”‚
                   â”‚ â€¢ Sell Items  â”‚
                   â”‚ â€¢ Real Costs  â”‚
                   â”‚ â€¢ Profit      â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚   REPORTING   â”‚
                   â”‚               â”‚
                   â”‚ â€¢ Purchase    â”‚
                   â”‚   Reports     â”‚
                   â”‚ â€¢ Supplier    â”‚
                   â”‚   Analysis    â”‚
                   â”‚ â€¢ Cost Trends â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ Summary

This visual architecture document shows:
1. âœ… Complete system workflow
2. âœ… Database relationships
3. âœ… Status transitions
4. âœ… Permission matrix
5. âœ… UI component structure
6. âœ… Data flow patterns
7. âœ… Payment tracking
8. âœ… System integrations

**All components are now IMPLEMENTED and WORKING!** ğŸš€
